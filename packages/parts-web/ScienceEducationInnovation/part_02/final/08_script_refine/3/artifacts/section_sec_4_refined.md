## 系统层优化：分层式参数存储系统 Fluid

`Fluid` 是一个针对分布式推荐模型设计的系统层优化工作（发表于 SC 2022），其核心是一个分层的分布式参数存储系统。

### 核心设计：分层存储

为了在系统性能和部署成本之间取得平衡，`Fluid` 根据参数的访问热度将其划分到不同的存储层级：

- **热点参数**：存储于 HBM (High Bandwidth Memory) 中，以获得最高访问性能。
- **温点参数**：存储于 DRAM 中，作为性能与容量的平衡选择。
- **冷点参数**：存储于 SSD 中，以低成本实现海量参数的持久化存储。

### 关键功能

`Fluid` 系统内置了以下高级功能以提升效率和稳定性：

- **动态迁移**：当参数的访问热度发生变化时，系统会自动将其在 HBM、DRAM 和 SSD 之间进行迁移，确保热点数据始终位于最快的存储介质上。
- **快照与恢复**：系统支持参数的快照功能。当发生故障时，可以利用快照快速将参数恢复到之前的状态。

### 性能表现

实验结果表明，相较于传统的参数服务器方案，`Fluid` 带来了显著的效益：

- **系统吞吐量**：提升超过 2 倍。
- **系统成本**：降低超过 50%。

---

## 硬件层优化：基于局部性的预取方案 Smart-Prefetcher

`Smart-Prefetcher` 是一项硬件层面的优化工作（发表于 MICRO 2022），旨在利用参数访问的局部性特征来提升缓存效率。

### 基本思想

推荐模型的参数访问具有很强的局部性，例如用户可能会连续访问多个相关的视频。`Smart-Prefetcher` 利用这一特性，将可能被访问的相关参数预取到缓存中，从而提升缓存命中率。

### 挑战

传统的硬件预取方法无法直接适用于推荐模型独特的参数访问模式，需要针对性的设计。